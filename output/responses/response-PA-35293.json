[
  {
    "name": "Verify Save As Default functionality persists user preferences across sessions",
    "description": "Validates that when users save their filter/view preferences as default, these settings are correctly stored and automatically applied when returning to Overall Analytics",
    "preconditions": "User is logged in and has access to Overall Analytics dashboard",
    "test_case_steps": [
      {
        "step": "Navigate to Overall Analytics page",
        "result": "Overall Analytics dashboard loads successfully with default view"
      },
      {
        "step": "Apply custom filters (date range, specific products, metrics)",
        "result": "Selected filters are applied and data updates accordingly"
      },
      {
        "step": "Click 'Save As Default' button or option",
        "result": "Confirmation message appears indicating preferences saved successfully"
      },
      {
        "step": "Navigate away from Overall Analytics to another page",
        "result": "User successfully navigates to different page"
      },
      {
        "step": "Return to Overall Analytics page",
        "result": "Page loads with previously saved default filters automatically applied"
      },
      {
        "step": "Log out and log back in",
        "result": "After re-authentication, Overall Analytics loads with saved default preferences"
      }
    ],
    "tags": ["overall", "save-as-default", "user-preferences", "refactor", "PA-35293"]
  },
  {
    "name": "Test Save As Default with multiple product card configurations",
    "description": "Ensures that Save As Default correctly persists product card visibility, order, and expansion states to prevent configuration loss bugs",
    "preconditions": "User has access to multiple product cards (Architect, Eureka, Email, etc.)",
    "test_case_steps": [
      {
        "step": "Navigate to Overall Analytics and expand/collapse specific product cards (e.g., expand Architect, collapse Email)",
        "result": "Product cards expand and collapse as expected"
      },
      {
        "step": "Reorder product cards by dragging (if feature exists) or change visibility settings",
        "result": "Product cards reorder or visibility changes successfully"
      },
      {
        "step": "Select specific metrics to display on each product card",
        "result": "Selected metrics are displayed on respective product cards"
      },
      {
        "step": "Click 'Save As Default' to persist current configuration",
        "result": "Success message confirms configuration saved"
      },
      {
        "step": "Refresh the page",
        "result": "All product card states (expanded/collapsed), order, and metric selections are preserved"
      },
      {
        "step": "Modify configuration and refresh without saving",
        "result": "Page reverts to previously saved default configuration"
      }
    ],
    "tags": ["overall", "save-as-default", "product-cards", "configuration", "PA-35293"]
  },
  {
    "name": "Validate Save As Default behavior with comparison mode and date ranges",
    "description": "Tests that Save As Default correctly handles complex scenarios with comparison mode enabled and custom date ranges to prevent data inconsistency bugs",
    "preconditions": "User is on Overall Analytics page with access to comparison mode feature",
    "test_case_steps": [
      {
        "step": "Select a custom date range (e.g., Last 30 days)",
        "result": "Data updates to show metrics for selected date range"
      },
      {
        "step": "Enable comparison mode and select comparison period (e.g., Previous 30 days)",
        "result": "Comparison data is displayed alongside current period data"
      },
      {
        "step": "Apply additional filters (specific goals, conversion metrics)",
        "result": "Filtered data with comparison is displayed correctly"
      },
      {
        "step": "Save the configuration as default",
        "result": "Confirmation that preferences including comparison mode are saved"
      },
      {
        "step": "Navigate to another analytics page and return",
        "result": "Overall Analytics loads with comparison mode enabled and correct date ranges applied"
      },
      {
        "step": "Verify that comparison calculations are accurate and match pre-save state",
        "result": "All percentage changes and comparison metrics are calculated correctly"
      }
    ],
    "tags": ["overall", "save-as-default", "comparison-mode", "date-range", "PA-35293"]
  },
  {
    "name": "Test Save As Default reset and error handling scenarios",
    "description": "Validates that users can reset to system defaults and that the refactored feature handles errors gracefully without data loss",
    "preconditions": "User has previously saved custom default preferences",
    "test_case_steps": [
      {
        "step": "Navigate to Overall Analytics with saved custom defaults loaded",
        "result": "Page loads with user's saved preferences"
      },
      {
        "step": "Locate and click 'Reset to Default' or 'Clear Saved Preferences' option",
        "result": "Confirmation dialog appears asking to confirm reset action"
      },
      {
        "step": "Confirm the reset action",
        "result": "Page reloads with system default settings (all products visible, default date range)"
      },
      {
        "step": "Apply new custom filters and attempt to save as default with network disconnected",
        "result": "Error message appears indicating save failed due to network issue, current filters remain applied"
      },
      {
        "step": "Reconnect network and retry saving as default",
        "result": "Save succeeds with confirmation message"
      },
      {
        "step": "Attempt to save invalid configuration (if applicable) as default",
        "result": "Validation error appears preventing save of invalid state, user is guided to correct the issue"
      }
    ],
    "tags": ["overall", "save-as-default", "reset", "error-handling", "PA-35293"]
  },
  {
    "name": "Verify Save As Default works correctly across different user roles and permissions",
    "description": "Tests that Save As Default functionality respects user permissions and works correctly for users with different access levels to prevent permission-related bugs",
    "preconditions": "Access to test accounts with different permission levels (Admin, Standard User, Limited Access)",
    "test_case_steps": [
      {
        "step": "Log in as Admin user and navigate to Overall Analytics",
        "result": "Admin sees all available product cards and features"
      },
      {
        "step": "Configure custom view with all products and save as default",
        "result": "Configuration saves successfully for Admin user"
      },
      {
        "step": "Log out and log in as Standard User with limited product access",
        "result": "Standard User sees only authorized product cards"
      },
      {
        "step": "Standard User configures available products and saves as default",
        "result": "Configuration saves successfully within user's permission scope"
      },
      {
        "step": "Verify that Standard User's saved default doesn't include unauthorized products",
        "result": "Only permitted product cards are displayed and saved"
      },
      {
        "step": "Log back in as Admin and verify Admin's saved defaults are still intact",
        "result": "Admin's previously saved configuration loads correctly without interference from other user profiles"
      }
    ],
    "tags": ["overall", "save-as-default", "permissions", "user-roles", "PA-35293"]
  }
]